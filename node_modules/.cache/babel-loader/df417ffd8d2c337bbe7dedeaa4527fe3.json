{"ast":null,"code":"var _jsxFileName = \"/home/lucaswerner/repositories/trybe-projects/sd-03-block14-project-movie-card-library-crud/src/pages/MovieDetails.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport * as movieAPI from '../services/movieAPI';\nimport { Loading } from '../components';\n\nclass MovieDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movie: '',\n      isShouldRedirect: false\n    };\n    this.onChangeRedirect = this.onChangeRedirect.bind(this);\n  }\n\n  componentDidMount() {\n    movieAPI.getMovie(this.props.match.params.id).then(movie => this.setState({\n      movie\n    }));\n  }\n\n  onChangeRedirect() {\n    const {\n      id\n    } = this.state.movie;\n    movieAPI.deleteMovie(id);\n    this.setState({\n      isShouldRedirect: true\n    });\n  }\n\n  render() {\n    const {\n      movie,\n      isShouldRedirect\n    } = this.state;\n    const {\n      title,\n      storyline,\n      imagePath,\n      genre,\n      rating,\n      subtitle,\n      id\n    } = movie;\n    if (isShouldRedirect) return /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 34\n      }\n    });\n    if (!movie) return /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 24\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      \"data-testid\": \"movie-details\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 m7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"Movie Cover\",\n      src: `../${imagePath}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }\n    }, title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }\n    }, `Subtitle: ${subtitle}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, `Storyline: ${storyline}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, `Genre: ${genre}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, `Rating: ${rating}`)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: `/movies/${id}/edit`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, \"EDITAR\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, \"VOLTAR\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.onChangeRedirect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, \"APAGAR\")))));\n  }\n\n}\n\nMovieDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.number\n    })\n  }).isRequired\n};\nexport default MovieDetails;","map":{"version":3,"sources":["/home/lucaswerner/repositories/trybe-projects/sd-03-block14-project-movie-card-library-crud/src/pages/MovieDetails.js"],"names":["React","Component","PropTypes","Link","Redirect","movieAPI","Loading","MovieDetails","constructor","props","state","movie","isShouldRedirect","onChangeRedirect","bind","componentDidMount","getMovie","match","params","id","then","setState","deleteMovie","render","title","storyline","imagePath","genre","rating","subtitle","propTypes","shape","number","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Redirect } from 'react-router-dom';\nimport * as movieAPI from '../services/movieAPI';\nimport { Loading } from '../components';\n\nclass MovieDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movie: '',\n      isShouldRedirect: false,\n    };\n\n    this.onChangeRedirect = this.onChangeRedirect.bind(this);\n  }\n\n  componentDidMount() {\n    movieAPI.getMovie(this.props.match.params.id)\n      .then((movie) => this.setState({ movie }));\n  }\n\n  onChangeRedirect() {\n    const { id } = this.state.movie;\n    movieAPI.deleteMovie(id);\n    this.setState({\n      isShouldRedirect: true,\n    });\n  }\n\n  render() {\n    const { movie, isShouldRedirect } = this.state;\n    const {\n      title, storyline, imagePath, genre, rating, subtitle, id,\n    } = movie;\n\n    if (isShouldRedirect) return <Link to=\"/\" />;\n\n    if (!movie) return <Loading />;\n\n    return (\n      <div className=\"row\" data-testid=\"movie-details\">\n        <div className=\"col s12 m7\">\n          <div className=\"card\">\n            <div className=\"card-image\">\n              <img alt=\"Movie Cover\" src={`../${imagePath}`} />\n              <span className=\"card-title\">{title}</span>\n            </div>\n            <div className=\"card-content\">\n              <p>{`Subtitle: ${subtitle}`}</p>\n              <p>{`Storyline: ${storyline}`}</p>\n              <p>{`Genre: ${genre}`}</p>\n              <p>{`Rating: ${rating}`}</p>\n            </div>\n            <div className=\"card-action\">\n              <Link to={`/movies/${id}/edit`}>EDITAR</Link>\n              <Link to=\"/\">VOLTAR</Link>\n              <button type=\"button\" onClick={this.onChangeRedirect}>APAGAR</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMovieDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({ id: PropTypes.number }),\n  }).isRequired,\n};\n\nexport default MovieDetails;\n"]},"metadata":{},"sourceType":"module"}