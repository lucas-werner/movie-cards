{"ast":null,"code":"import _classCallCheck from\"/home/lucaswerner/repositories/github-personal/movie-cards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lucaswerner/repositories/github-personal/movie-cards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/lucaswerner/repositories/github-personal/movie-cards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/lucaswerner/repositories/github-personal/movie-cards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/lucaswerner/repositories/github-personal/movie-cards/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import MovieForm from'../components/MovieForm';import*as movieAPI from'../services/movieAPI';var NewMovie=/*#__PURE__*/function(_Component){_inherits(NewMovie,_Component);var _super=_createSuper(NewMovie);function NewMovie(props){var _this;_classCallCheck(this,NewMovie);_this=_super.call(this,props);_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.state={shouldRedirect:false};return _this;}_createClass(NewMovie,[{key:\"handleSubmit\",value:function handleSubmit(newMovie){movieAPI.createMovie(newMovie);this.setState({shouldRedirect:true});}},{key:\"render\",value:function render(){var shouldRedirect=this.state.shouldRedirect;var history=this.props.history;if(shouldRedirect){history.push('/');}return/*#__PURE__*/React.createElement(\"div\",{\"data-testid\":\"new-movie\"},/*#__PURE__*/React.createElement(MovieForm,{onSubmit:this.handleSubmit}));}}]);return NewMovie;}(Component);export default NewMovie;","map":{"version":3,"sources":["/home/lucaswerner/repositories/github-personal/movie-cards/src/pages/NewMovie.js"],"names":["React","Component","MovieForm","movieAPI","NewMovie","props","handleSubmit","bind","state","shouldRedirect","newMovie","createMovie","setState","history","push"],"mappings":"q3BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,sBAA1B,C,GAEMC,CAAAA,Q,oGACJ,kBAAYC,KAAZ,CAAmB,0CACjB,uBAAMA,KAAN,EACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,KAAL,CAAa,CAAEC,cAAc,CAAE,KAAlB,CAAb,CAHiB,aAIlB,C,uEAEYC,Q,CAAU,CACrBP,QAAQ,CAACQ,WAAT,CAAqBD,QAArB,EACA,KAAKE,QAAL,CAAc,CAAEH,cAAc,CAAE,IAAlB,CAAd,EACD,C,uCAEQ,IACCA,CAAAA,cADD,CACoB,KAAKD,KADzB,CACCC,cADD,IAECI,CAAAA,OAFD,CAEa,KAAKR,KAFlB,CAECQ,OAFD,CAGP,GAAIJ,cAAJ,CAAoB,CAClBI,OAAO,CAACC,IAAR,CAAa,GAAb,EACD,CACD,mBACE,2BAAK,cAAY,WAAjB,eACE,oBAAC,SAAD,EAAW,QAAQ,CAAE,KAAKR,YAA1B,EADF,CADF,CAKD,C,sBAvBoBL,S,EAgCvB,cAAeG,CAAAA,QAAf","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport MovieForm from '../components/MovieForm';\nimport * as movieAPI from '../services/movieAPI';\n\nclass NewMovie extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = { shouldRedirect: false };\n  }\n\n  handleSubmit(newMovie) {\n    movieAPI.createMovie(newMovie);\n    this.setState({ shouldRedirect: true });\n  }\n\n  render() {\n    const { shouldRedirect } = this.state;\n    const { history } = this.props;\n    if (shouldRedirect) {\n      history.push('/');\n    }\n    return (\n      <div data-testid=\"new-movie\">\n        <MovieForm onSubmit={this.handleSubmit} />\n      </div>\n    );\n  }\n}\n\nNewMovie.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default NewMovie;\n"]},"metadata":{},"sourceType":"module"}